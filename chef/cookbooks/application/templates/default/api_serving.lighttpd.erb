server.modules = (
  "mod_access",
  "mod_fastcgi",
  "mod_accesslog",
)

server.document-root = "<%= node.default['application']['api_serving']['work_dir'] %>"

server.port = <%= node.default['application']['api_serving']['port'] %>

server.username = "<%= node.default['application']['api_serving']['user'] %>"
server.groupname = "<%= node.default['application']['group'] %>"
server.pid-file = "<%= node.default['application']['api_serving']['lighttpd']['pid_file'] %>"
server.errorlog = "<%= node.default['application']['api_serving']['lighttpd']['error_log'] %>"
accesslog.filename = "<%= node.default['application']['api_serving']['lighttpd']['access_log'] %>"

fastcgi.server = (
  "/api" => (
    "main" => (
      "host" => "<%= node.default['application']['api_serving']['django']['fastcgi_host'] %>",
      "port" => <%= node.default['application']['api_serving']['django']['fastcgi_port'] %>,
      "check-local" => "disable"
    )
  )
)

static-file.exclude-extensions = ( ".fcgi", ".php", ".rb", "~", ".inc" )
index-file.names = ()
